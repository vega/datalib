!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.dl=t()}}(function(){return function t(n,e,r){function i(u,o){if(!e[u]){if(!n[u]){var s="function"==typeof require&&require;if(!o&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=e[u]={exports:{}};n[u][0].call(f.exports,function(t){var e=n[u][1][t];return i(e?e:t)},f,f.exports,t,n,e,r)}return e[u].exports}for(var a="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,n,e){},{}],2:[function(t,n,e){function r(){this._cells={},this._aggr=[],this._stream=!1}function i(t){if(a.isArray(t))return t;if(null==t)return[];var n,e,r=[];for(n in t)e=a.array(t[n]),r.push({name:n,ops:e});return r}var a=t("../util"),u=t("./measures"),o=t("./collector"),s=r.Flags={ADD_CELL:1,MOD_CELL:2},l=r.prototype;l.stream=function(t){return null==t?this._stream:(this._stream=!!t,this._aggr=[],this)},l.key=function(t){return null==t?this._key:(this._key=a.$(t),this)},l.groupby=function(t){return this._dims=a.array(t).map(function(t,n){if(t=a.isString(t)?{name:t,get:a.$(t)}:a.isFunction(t)?{name:a.name(t)||t.name||"_"+n,get:t}:t.name&&a.isFunction(t.get)?t:null,null==t)throw"Invalid groupby argument: "+t;return t}),this.clear()},l.summarize=function(t){t=i(t),this._count=!0;var n,e,r,o,s,l,f,c=this._aggr=[];for(r=0;r<t.length;++r){for(o=0,n=[],e=t[r];o<e.ops.length;++o)s=e.ops[o],"count"!==s&&(this._count=!1),l=e.as&&e.as[o]||s+("*"===e.name?"":"_"+e.name),n.push(u[s](l));f=e.get&&a.$(e.get)||("*"===e.name?a.identity:a.$(e.name)),c.push({name:e.name,measures:u.create(n,this._stream,f,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(t,n,e){t[n]=e},l.clear=function(){return this._cells={},this},l._cellkey=function(t){var n,e=this._dims,r=e.length,i=String(e[0].get(t));for(n=1;r>n;++n)i+="|"+e[n].get(t);return i},l._cell=function(t){var n=this._dims.length?this._cellkey(t):"";return this._cells[n]||(this._cells[n]=this._newcell(t))},l._newcell=function(t){var n,e={num:0,tuple:this._newtuple(t),flag:s.ADD_CELL,aggs:{}},r=this._aggr;for(n=0;n<r.length;++n)e.aggs[r[n].name]=new r[n].measures(e,e.tuple);return e.collect&&(e.data=new o(this._key)),e},l._newtuple=function(t){var n,e,r=this._dims,i={};for(n=0,e=r.length;e>n;++n)i[r[n].name]=r[n].get(t);return this._ingest(i)},l._ingest=a.identity,l._add=function(t){var n,e=this._cell(t),r=this._aggr;if(e.num+=1,!this._count)for(e.collect&&e.data.add(t),n=0;n<r.length;++n)e.aggs[r[n].name].add(t);e.flag|=s.MOD_CELL},l._rem=function(t){var n,e=this._cell(t),r=this._aggr;if(e.num-=1,!this._count)for(e.collect&&e.data.rem(t),n=0;n<r.length;++n)e.aggs[r[n].name].rem(t);e.flag|=s.MOD_CELL},l._mod=function(t,n){var e,r=this._cell(n),i=this._cell(t),u=this._aggr;for(r!==i?(r.num-=1,i.num+=1,r.collect&&r.data.rem(n),i.collect&&i.data.add(t)):r.collect&&!a.isObject(t)&&(r.data.rem(n),r.data.add(t)),e=0;e<u.length;++e)r.aggs[u[e].name].rem(n),i.aggs[u[e].name].add(t);r.flag|=s.MOD_CELL,i.flag|=s.MOD_CELL},l.result=function(){var t,n,e,r=[],i=this._aggr;for(e in this._cells){if(t=this._cells[e],t.num>0){for(t.collect&&t.data.values(),n=0;n<i.length;++n)t.aggs[i[n].name].set();r.push(t.tuple)}else delete this._cells[e];t.flag=0}return this._rems=!1,r},l.changes=function(){var t,n,e,r,i={add:[],rem:[],mod:[]},a=this._aggr;for(r in this._cells){for(t=this._cells[r],n=t.flag,t.collect&&t.data.values(),e=0;e<a.length;++e)t.aggs[a[e].name].set();t.num<=0?(i.rem.push(t.tuple),delete this._cells[r]):n&s.ADD_CELL?i.add.push(t.tuple):n&s.MOD_CELL&&i.mod.push(t.tuple),t.flag=0}return this._rems=!1,i},l.execute=function(t){return this.clear().insert(t).result()},l.insert=function(t){this._consolidate();for(var n=0;n<t.length;++n)this._add(t[n]);return this},l.remove=function(t){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var n=0;n<t.length;++n)this._rem(t[n]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var t in this._cells)this._cells[t].collect&&this._cells[t].data.values();this._rems=!1}},n.exports=r},{"../util":23,"./collector":3,"./measures":5}],3:[function(t,n,e){function r(t){this._add=[],this._rem=[],this._key=t||null,this._last=null}var i=t("../util"),a=t("../stats"),u="__dl_rem__",o=r.prototype;o.add=function(t){this._add.push(t)},o.rem=function(t){this._rem.push(t)},o.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,n,e,r,o=this._add,s=this._rem,l=this._key,f=Array(o.length-s.length);if(i.isObject(s[0]))if(l)for(r=i.toMap(s,l),t=0,n=0,e=o.length;e>t;++t)r.hasOwnProperty(l(o[t]))||(f[n++]=o[t]);else{for(t=0,e=s.length;e>t;++t)s[t][u]=1;for(t=0,n=0,e=o.length;e>t;++t)o[t][u]||(f[n++]=o[t]);for(t=0,e=s.length;e>t;++t)delete s[t][u]}else for(r=a.count.map(s),t=0,n=0,e=o.length;e>t;++t)r[o[t]]>0?r[o[t]]-=1:f[n++]=o[t];return this._rem=[],this._add=f},o.extent=function(t){if(this._get!==t||!this._ext){var n=this.values(),e=a.extent.index(n,t);this._ext=[n[e[0]],n[e[1]]],this._get=t}return this._ext},o.argmin=function(t){return this.extent(t)[0]},o.argmax=function(t){return this.extent(t)[1]},o.min=function(t){var n=this.extent(t)[0];return n?t(n):+(1/0)},o.max=function(t){var n=this.extent(t)[1];return n?t(n):-(1/0)},o.quartile=function(t){return this._get===t&&this._q||(this._q=a.quartile(this.values(),t),this._get=t),this._q},o.q1=function(t){return this.quartile(t)[0]},o.q2=function(t){return this.quartile(t)[1]},o.q3=function(t){return this.quartile(t)[2]},n.exports=r},{"../stats":20,"../util":23}],4:[function(t,n,e){var r=t("../util"),i=t("./aggregator");n.exports=function(){var t=[].reduce.call(arguments,function(t,n){return t.concat(r.array(n))},[]);return(new i).groupby(t).summarize({"*":"values"})}},{"../util":23,"./aggregator":2}],5:[function(t,n,e){function r(t){return function(n){var e=u.extend({init:"",add:"",rem:"",idx:0},t);return e.out=n||t.name,e}}function i(t,n){function e(t,r){function i(n){t[n]||e(t,t[n]=o[n]())}return r.req&&r.req.forEach(i),n&&r.str&&r.str.forEach(i),t}var r=t.reduce(e,t.reduce(function(t,n){return t[n.name]=n,t},{}));return u.vals(r).sort(function(t,n){return t.idx-n.idx})}function a(n,e,r,a){var o=i(n,e),s="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",f="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",c="var t = this.tuple; var cell = this.cell;";return o.forEach(function(t){t.idx<0?(s=t.init+s,l=t.add+l,f=t.rem+f):(s+=t.init,l+=t.add,f+=t.rem)}),n.slice().sort(function(t,n){return t.idx-n.idx}).forEach(function(t){c+="this.assign(t,'"+t.out+"',"+t.set+");"}),c+="return t;",s=Function("cell","t",s),s.prototype.assign=a,s.prototype.add=Function("t","var v = this.get(t);"+l),s.prototype.rem=Function("t","var v = this.get(t);"+f),s.prototype.set=Function(c),s.prototype.get=r,s.prototype.distinct=t("../stats").count.distinct,s.prototype.isValid=u.isValid,s}var u=t("../util"),o={values:r({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:r({name:"count",set:"cell.num"}),missing:r({name:"missing",set:"this.missing"}),valid:r({name:"valid",set:"this.valid"}),sum:r({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:r({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:r({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:r({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:r({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:r({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:r({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:r({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:r({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:r({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:r({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:r({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:r({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:r({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:r({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:r({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};o.create=a,n.exports=o},{"../stats":20,"../util":23}],6:[function(t,n,e){function r(t){if(!t)throw Error("Missing binning options.");var n,e,r,o,s,l,f,c=t.maxbins||15,m=t.base||10,d=Math.log(m),h=t.div||[5,2],p=t.min,g=t.max,v=g-p;if(t.step)n=t.step;else if(t.steps)n=t.steps[Math.min(t.steps.length-1,i(t.steps,v/c,0,t.steps.length))];else{e=Math.ceil(Math.log(c)/d),r=t.minstep||0,n=Math.max(r,Math.pow(m,Math.round(Math.log(v)/d)-e));do n*=m;while(Math.ceil(v/n)>c);for(l=0;l<h.length;++l)s=n/h[l],s>=r&&c>=v/s&&(n=s)}return s=Math.log(n),o=s>=0?0:~~(-s/d)+1,f=Math.pow(m,-o-1),p=Math.min(p,Math.floor(p/n+f)*n),g=Math.ceil(g/n)*n,{start:p,stop:g,step:n,unit:{precision:o},value:a,index:u}}function i(t,n,e,r){for(;r>e;){var i=e+r>>>1;l.cmp(t[i],n)<0?e=i+1:r=i}return e}function a(t){return this.step*Math.floor(t/this.step+c)}function u(t){return Math.floor((t-this.start)/this.step+c)}function o(t){return this.unit.date(a.call(this,t))}function s(t){return u.call(this,this.unit.unit(t))}var l=t("../util"),f=t("../time-units"),c=1e-15;r.date=function(t){if(!t)throw Error("Missing date binning options.");var n=t.min,e=t.max,i=t.maxbins||20,a=t.minbins||4,u=+e-+n,l=t.unit?f[t.unit]:f.find(u,a,i),c=r({min:null!=l.min?l.min:l.unit(n),max:null!=l.max?l.max:l.unit(e),maxbins:i,minstep:l.minstep,steps:l.step});return c.unit=l,c.index=s,t.raw||(c.value=o),c},n.exports=r},{"../time-units":22,"../util":23}],7:[function(t,n,e){function r(t,n,e){e=u(t,n,e);var r=a(e);return r?c.$func("bin",r.unit.unit?function(t){return r.value(r.unit.unit(t))}:function(t){return r.value(t)})(e.accessor):e.accessor||c.identity}function i(t,n,e){e=u(t,n,e);var r=a(e);return r?o(t,e.accessor,r):s(t,e.accessor,e&&e.sort)}function a(t){var n=t.type,e=null;return(null==n||h[n])&&("integer"===n&&null==t.minstep&&(t.minstep=1),e="date"===n?d.date(t):d(t)),e}function u(){var t=arguments,n=0,e=c.isArray(t[n])?t[n++]:null,r=c.isFunction(t[n])||c.isString(t[n])?c.$(t[n++]):null,i=c.extend({},t[n]);if(e&&(i.type=i.type||f(e,r),h[i.type])){var a=l.extent(e,r);i=c.extend({min:a[0],max:a[1]},i)}return r&&(i.accessor=r),i}function o(t,n,e){for(var r,i,a=m.range(e.start,e.stop+e.step/2,e.step).map(function(t){return{value:e.value(t),count:0}}),u=0;u<t.length;++u)if(r=n?n(t[u]):t[u],c.isValid(r)){if(i=e.index(r),0>i||i>=a.length||!isFinite(i))continue;a[i].count+=1}return a.bins=e,a}function s(t,n,e){var r=l.unique(t,n),i=l.count.map(t,n);return r.map(function(t){return{value:t,count:i[t]}}).sort(c.comparator(e?"-count":"+value"))}var l=t("../stats"),f=t("../import/type"),c=t("../util"),m=t("../generate"),d=t("./bins"),h={integer:1,number:1,date:1};n.exports={$bin:r,histogram:i}},{"../generate":8,"../import/type":17,"../stats":20,"../util":23,"./bins":6}],8:[function(t,n,e){var r=n.exports={};r.repeat=function(t,n){var e,r=Array(n);for(e=0;n>e;++e)r[e]=t;return r},r.zeros=function(t){return r.repeat(0,t)},r.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("Infinite range");var r,i=[],a=-1;if(0>e)for(;(r=t+e*++a)>n;)i.push(r);else for(;(r=t+e*++a)<n;)i.push(r);return i},r.random={},r.random.uniform=function(t,n){void 0===n&&(n=void 0===t?1:t,t=0);var e=n-t,i=function(){return t+e*Math.random()};return i.samples=function(t){return r.zeros(t).map(i)},i},r.random.integer=function(t,n){void 0===n&&(n=t,t=0);var e=n-t,i=function(){return t+Math.floor(e*Math.random())};return i.samples=function(t){return r.zeros(t).map(i)},i},r.random.normal=function(t,n){t=t||0,n=n||1;var e,i=function(){var r,i,a=0,u=0;if(void 0!==e)return a=e,e=void 0,a;do a=2*Math.random()-1,u=2*Math.random()-1,r=a*a+u*u;while(0===r||r>1);return i=Math.sqrt(-2*Math.log(r)/r),e=t+u*i*n,t+a*i*n};return i.samples=function(t){return r.zeros(t).map(i)},i}},{}],9:[function(t,n,e){(function(e){function r(t,n){if(t){var e=n.header;t=(e?e.join(n.delimiter)+"\n":"")+t}return a.dsv(n.delimiter).parse(t)}var i=t("../../util"),a="undefined"!=typeof window?window.d3:"undefined"!=typeof e?e.d3:null;r.delimiter=function(t){var n={delimiter:t};return function(t,e){return r(t,e?i.extend(e,n):n)}},n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":23}],10:[function(t,n,e){var r=t("./dsv");n.exports={json:t("./json"),topojson:t("./topojson"),treejson:t("./treejson"),dsv:r,csv:r.delimiter(","),tsv:r.delimiter("	")}},{"./dsv":9,"./json":11,"./topojson":12,"./treejson":13}],11:[function(t,n,e){var r=t("../../util");n.exports=function(t,n){var e=r.isObject(t)&&!r.isBuffer(t)?t:JSON.parse(t);return n&&n.property&&(e=r.accessor(n.property)(e)),e}},{"../../util":23}],12:[function(t,n,e){(function(e){var r=t("./json"),i=function(t,n){var e=i.topojson;if(null==e)throw Error("TopoJSON library not loaded.");var a,u=r(t,n);if(n&&n.feature){if(a=u.objects[n.feature])return e.feature(u,a).features;throw Error("Invalid TopoJSON object: "+n.feature)}if(n&&n.mesh){if(a=u.objects[n.mesh])return[e.mesh(u,u.objects[n.mesh])];throw Error("Invalid TopoJSON object: "+n.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};i.topojson="undefined"!=typeof window?window.topojson:"undefined"!=typeof e?e.topojson:null,n.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":11}],13:[function(t,n,e){function r(t,n){function e(t){r.push(t);var i=t[n];if(i)for(var a=0;a<i.length;++a)e(i[a],t)}n=n||"children";var r=[];return e(t,null),r.root=t,r}var i=t("./json");n.exports=function(t,n){return t=i(t,n),r(t,n&&n.children)}},{"./json":11}],14:[function(t,n,e){function r(n){var e=n.url;if(!e&&n.file)return c+n.file;if(n.baseURL&&!f.test(e)&&(l(e,"/")||"/"===n.baseURL[n.baseURL.length-1]||(e="/"+e),e=n.baseURL+e),!i.useXHR&&l(e,"//")&&(e=(n.defaultProtocol||"http")+":"+e),n.domainWhiteList){var r,a;if(i.useXHR){var u=document.createElement("a");u.href=e,""===u.host&&(u.href=u.href),r=u.hostname.toLowerCase(),a=window.location.hostname}else{var o=t("url").parse(e);r=o.hostname,a=null}if(a!==r){var s=n.domainWhiteList.some(function(t){var n=r.length-t.length;return t===r||n>1&&"."===r[n-1]&&r.lastIndexOf(t)===n});if(!s)throw"URL is not whitelisted: "+e}}return e}function i(t,n){var e,r=n||function(t){throw t};try{e=i.sanitizeUrl(t)}catch(a){return void r(a)}return e?i.useXHR?u(e,n):l(e,c)?o(e.slice(c.length),n):e.indexOf("://")<0?o(e,n):s(e,n):void r("Invalid URL: "+t.url)}function a(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function u(t,n){function e(){var t=i.status;!t&&a(i)||t>=200&&300>t||304===t?n(null,i.responseText):n(i,null)}var r=!!n,i=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(t)||(i=new XDomainRequest),r&&("onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()}),i.open("GET",t,r),i.send(),!r&&a(i)?i.responseText:void 0}function o(n,e){var r=t("fs");return e?void r.readFile(n,e):r.readFileSync(n,"utf8")}function s(n,e){return e?void t("request")(n,function(t,n,r){t||200!==n.statusCode?(t=t||"Load failed with response code "+n.statusCode+".",e(t,null)):e(null,r)}):t("sync-request")("GET",n).getBody()}function l(t,n){return null==t?!1:0===t.lastIndexOf(n,0)}var f=/^([A-Za-z]+:)?\/\//,c="file://";i.sanitizeUrl=r,i.useXHR="undefined"!=typeof XMLHttpRequest,n.exports=i},{fs:1,request:1,"sync-request":1,url:1}],15:[function(t,n,e){function r(t,n){var e=n&&n.type||"json";return t=o[e](t,n),n&&n.parse&&i(t,n.parse),t}function i(t,n){var e,r,i,o,s,l,f=t.length;for(n="auto"===n?u.inferAll(t):a.duplicate(n),e=a.keys(n),r=e.map(function(t){return u.parsers[n[t]]}),o=0,l=e.length;f>o;++o)for(i=t[o],s=0;l>s;++s)i[e[s]]=r[s](i[e[s]]);u.annotation(t,n)}var a=t("../util"),u=t("./type"),o=t("./formats");r.formats=o,n.exports=r},{"../util":23,"./formats":10,"./type":17}],16:[function(t,n,e){var r=t("../util"),i=t("./load"),a=t("./read");n.exports=r.keys(a.formats).reduce(function(t,n){return t[n]=function(t,e,u){r.isString(t)&&(t={url:t}),2===arguments.length&&r.isFunction(e)&&(u=e,e=void 0),e=r.extend({parse:"auto"},e),e.type=n;var o=i(t,u?function(t,n){if(t)return void u(t,null);try{n=a(n,e),u(null,n)}catch(r){u(r,null)}}:void 0);return u?void 0:a(o,e)},t},{})},{"../util":23,"./load":14,"./read":15}],17:[function(t,n,e){function r(t,n){return n?void(t[l]=n):t&&t[l]||null}function i(t,n){n=s.$(n);var e,r,i;if(t[l]&&(e=n(t[l]),s.isString(e)))return e;for(r=0,i=t.length;!s.isValid(e)&&i>r;++r)e=n?n(t[r]):t[r];return s.isDate(e)?"date":s.isNumber(e)?"number":s.isBoolean(e)?"boolean":s.isString(e)?"string":null}function a(t,n){return t.length?(n=n||s.keys(t[0]),n.reduce(function(n,e){return n[e]=i(t,e),n},{})):void 0}function u(t,n){n=s.$(n);var e,r,i,a=["boolean","integer","number","date"];for(e=0;e<t.length;++e){for(i=n?n(t[e]):t[e],r=0;r<a.length;++r)s.isValid(i)&&!c[a[r]](i)&&(a.splice(r,1),r-=1);if(0===a.length)return"string"}return a[0]}function o(t,n){return n=n||s.keys(t[0]),n.reduce(function(n,e){return n[e]=u(t,e),n},{})}var s=t("../util"),l="__types__",f={"boolean":s["boolean"],integer:s.number,number:s.number,date:s.date,string:function(t){return""===t?null:t}},c={"boolean":function(t){return"true"===t||"false"===t||s.isBoolean(t)},integer:function(t){return c.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!s.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};i.annotation=r,i.all=a,i.infer=u,i.inferAll=o,i.parsers=f,n.exports=i},{"../util":23}],18:[function(t,n,e){var r=t("./util"),i={load:t("./import/load"),read:t("./import/read"),type:t("./import/type"),bins:t("./bins/bins"),$bin:t("./bins/histogram").$bin,groupby:t("./aggregate/groupby"),histogram:t("./bins/histogram").histogram,print:t("./print"),template:t("./template"),timeunits:t("./time-units")};r.extend(i,r),r.extend(i,t("./generate")),r.extend(i,t("./stats")),r.extend(i,t("./import/readers")),n.exports=i},{"./aggregate/groupby":4,"./bins/bins":6,"./bins/histogram":7,"./generate":8,"./import/load":14,"./import/read":15,"./import/readers":16,"./import/type":17,"./print":19,"./stats":20,"./template":21,"./time-units":22,"./util":23}],19:[function(t,n,e){function r(t){return["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function i(t){var n=["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"top values: "],e=t.unique,r=a.keys(e).sort(function(t,n){return e[n]-e[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+e[t]+")"});return n.concat(r).join("\n")}var a=t("./util"),u=t("./import/type"),o=t("./stats"),s=t("./template"),l={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},f={number:"left",integer:"left"};n.exports.table=function(t,n){n=a.extend({separator:" ",minwidth:8,maxwidth:15},n);var e=n.fields||a.keys(t[0]),r=u.all(t);if(n.start||n.limit){var i=n.start||0,c=n.limit?i+n.limit:t.length;t=t.slice(i,c)}var m=e.map(function(e){var i=l[r[e]]||"",a=s("{{"+e+i+"}}"),u=o.max(t,function(t){return a(t).length});return u=Math.max(Math.min(e.length,n.minwidth),u),n.maxwidth>0?Math.min(u,n.maxwidth):u}),d=e.map(function(t,n){return a.truncate(a.pad(t,m[n],"center"),m[n])}).join(n.separator),h=s(e.map(function(t,n){return"{{"+t+(l[r[t]]||"")+("|pad:"+m[n]+","+(f[r[t]]||"right"))+("|truncate:"+m[n])+"}}"}).join(n.separator));return d+"\n"+t.map(h).join("\n")},n.exports.summary=function(t){t=t?t.__summary__?t:o.summary(t):this;var n,e,a=[];for(n=0,e=t.length;e>n;++n)a.push("-- "+t[n].field+" --"),"string"===t[n].type||t[n].distinct<10?a.push(i(t[n])):a.push(r(t[n])),a.push("");return a.join("\n")}},{"./import/type":17,"./stats":20,"./template":21,"./util":23}],20:[function(t,n,e){var r=t("./util"),i=t("./import/type"),a=t("./generate"),u={};u.unique=function(t,n,e){n=r.$(n),e=e||[];var i,a,u,o={};for(a=0,u=t.length;u>a;++a)i=n?n(t[a]):t[a],i in o||(o[i]=1,e.push(i));return e},u.count=function(t){return t&&t.length||0},u.count.valid=function(t,n){n=r.$(n);var e,i,a,u=0;for(i=0,a=t.length;a>i;++i)e=n?n(t[i]):t[i],r.isValid(e)&&(u+=1);return u},u.count.missing=function(t,n){n=r.$(n);var e,i,a,u=0;for(i=0,a=t.length;a>i;++i)e=n?n(t[i]):t[i],null==e&&(u+=1);return u},u.count.distinct=function(t,n){n=r.$(n);var e,i,a,u={},o=0;for(i=0,a=t.length;a>i;++i)e=n?n(t[i]):t[i],e in u||(u[e]=1,o+=1);return o},u.count.map=function(t,n){n=r.$(n);var e,i,a,u={};for(i=0,a=t.length;a>i;++i)e=n?n(t[i]):t[i],u[e]=e in u?u[e]+1:1;return u},u.median=function(t,n){return n&&(t=t.map(r.$(n))),t=t.filter(r.isValid).sort(r.cmp),u.quantile(t,.5)},u.quartile=function(t,n){n&&(t=t.map(r.$(n))),t=t.filter(r.isValid).sort(r.cmp);var e=u.quantile;return[e(t,.25),e(t,.5),e(t,.75)]},u.quantile=function(t,n,e){void 0===e&&(e=n,n=r.identity),n=r.$(n);var i=(t.length-1)*e+1,a=Math.floor(i),u=+n(t[a-1]),o=i-a;return o?u+o*(n(t[a])-u):u},u.sum=function(t,n){n=r.$(n);for(var e,i=0,a=0,u=t.length;u>a;++a)e=n?n(t[a]):t[a],r.isValid(e)&&(i+=e);return i},u.mean=function(t,n){n=r.$(n);var e,i,a,u,o,s=0;for(i=0,u=0,a=t.length;a>i;++i)o=n?n(t[i]):t[i],r.isValid(o)&&(e=o-s,s+=e/++u);return s},u.variance=function(t,n){if(n=r.$(n),!r.isArray(t)||t.length<2)return 0;var e,i,a,u,o=0,s=0;for(i=0,a=0;i<t.length;++i)u=n?n(t[i]):t[i],r.isValid(u)&&(e=u-o,o+=e/++a,s+=e*(u-o));return s/=a-1},u.stdev=function(t,n){return Math.sqrt(u.variance(t,n))},u.modeskew=function(t,n){var e=u.mean(t,n),r=u.median(t,n),i=u.stdev(t,n);return 0===i?0:(e-r)/i},u.min=function(t,n){return u.extent(t,n)[0]},u.max=function(t,n){return u.extent(t,n)[1]},u.extent=function(t,n){n=r.$(n);var e,i,a,u,o=t.length;for(u=0;o>u;++u)if(a=n?n(t[u]):t[u],r.isValid(a)){e=i=a;break}for(;o>u;++u)a=n?n(t[u]):t[u],r.isValid(a)&&(e>a&&(e=a),a>i&&(i=a));return[e,i]},u.extent.index=function(t,n){n=r.$(n);var e,i,a,u,o=-1,s=-1,l=t.length;for(u=0;l>u;++u)if(a=n?n(t[u]):t[u],r.isValid(a)){e=i=a,o=s=u;break}for(;l>u;++u)a=n?n(t[u]):t[u],r.isValid(a)&&(e>a&&(e=a,o=u),a>i&&(i=a,s=u));return[o,s]},u.dot=function(t,n,e){var i,a,u=0;if(e)for(n=r.$(n),e=r.$(e),i=0;i<t.length;++i)a=n(t[i])*e(t[i]),a===a&&(u+=a);else{if(t.length!==n.length)throw Error("Array lengths must match.");for(i=0;i<t.length;++i)a=t[i]*n[i],a===a&&(u+=a)}return u},u.rank=function(t,n){n=r.$(n)||r.identity;var e,i,a,u=t.map(function(t,e){return{idx:e,val:n(t)}}).sort(r.comparator("val")),o=t.length,s=Array(o),l=-1,f={};for(e=0;o>e;++e){if(i=u[e].val,0>l&&f===i)l=e-1;else if(l>-1&&f!==i){for(a=1+(e-1+l)/2;e>l;++l)s[u[l].idx]=a;l=-1}s[u[e].idx]=e+1,f=i}if(l>-1)for(a=1+(o-1+l)/2;o>l;++l)s[u[l].idx]=a;return s},u.cor=function(t,n,e){var i=e;e=i?t.map(r.$(e)):n,n=i?t.map(r.$(n)):t;var a=u.dot(n,e),o=u.mean(n),s=u.mean(e),l=u.stdev(n),f=u.stdev(e),c=t.length;return(a-c*o*s)/((c-1)*l*f)},u.cor.rank=function(t,n,e){var i,a,o,s=e?u.rank(t,r.$(n)):u.rank(t),l=e?u.rank(t,r.$(e)):u.rank(n),f=t.length;for(i=0,a=0;f>i;++i)o=s[i]-l[i],a+=o*o;return 1-6*a/(f*(f*f-1))},u.cor.dist=function(t,n,e){var i,a,o,s,l=e?t.map(r.$(n)):t,f=e?t.map(r.$(e)):n,c=u.dist.mat(l),m=u.dist.mat(f),d=c.length;for(i=0,a=0,o=0,s=0;d>i;++i)a+=c[i]*c[i],o+=m[i]*m[i],s+=c[i]*m[i];return Math.sqrt(s/Math.sqrt(a*o))},u.dist=function(t,n,e,i){var a,u,o=r.isFunction(e)||r.isString(e),s=t,l=o?t:n,f=o?i:e,c=2===f||null==f,m=t.length,d=0;for(o&&(n=r.$(n),e=r.$(e)),u=0;m>u;++u)a=o?n(s[u])-e(l[u]):s[u]-l[u],d+=c?a*a:Math.pow(Math.abs(a),f);return c?Math.sqrt(d):Math.pow(d,1/f)},u.dist.mat=function(t){var n,e,r,i=t.length,u=i*i,o=Array(u),s=a.zeros(i),l=0;for(e=0;i>e;++e)for(o[e*i+e]=0,r=e+1;i>r;++r)o[e*i+r]=n=Math.abs(t[e]-t[r]),o[r*i+e]=n,s[e]+=n,s[r]+=n;for(e=0;i>e;++e)l+=s[e],s[e]/=i;for(l/=u,e=0;i>e;++e)for(r=e;i>r;++r)o[e*i+r]+=l-s[e]-s[r],o[r*i+e]=o[e*i+r];return o},u.entropy=function(t,n){n=r.$(n);var e,i,a=0,u=0,o=t.length;for(e=0;o>e;++e)a+=n?n(t[e]):t[e];if(0===a)return 0;for(e=0;o>e;++e)i=(n?n(t[e]):t[e])/a,i&&(u+=i*Math.log(i));return-u/Math.LN2},u.mutual=function(t,n,e,i){var a,u,o,s=i?t.map(r.$(n)):t,l=i?t.map(r.$(e)):n,f=i?t.map(r.$(i)):e,c={},m={},d=f.length,h=0,p=0,g=0;for(o=0;d>o;++o)c[s[o]]=0,m[l[o]]=0;for(o=0;d>o;++o)c[s[o]]+=f[o],m[l[o]]+=f[o],h+=f[o];for(u=1/(h*Math.LN2),o=0;d>o;++o)0!==f[o]&&(a=h*f[o]/(c[s[o]]*m[l[o]]),p+=f[o]*u*Math.log(a),g+=f[o]*u*Math.log(f[o]/h));return[p,1+p/g]},u.mutual.info=function(t,n,e,r){return u.mutual(t,n,e,r)[0]},u.mutual.dist=function(t,n,e,r){return u.mutual(t,n,e,r)[1]},u.profile=function(t,n){var e,a,o,s,l,f=0,c=0,m=0,d=0,h=null,p=null,g=0,v=[],y={};for(o=0;o<t.length;++o)s=n?n(t[o]):t[o],y[s]=s in y?y[s]+1:(d+=1,1),null==s?++m:r.isValid(s)&&(l="string"==typeof s?s.length:s,(null===h||h>l)&&(h=l),(null===p||l>p)&&(p=l),e=l-f,f+=e/++c,g+=e*(l-f),v.push(l));return g/=c-1,a=Math.sqrt(g),v.sort(r.cmp),{type:i(t,n),unique:y,count:t.length,valid:c,missing:m,distinct:d,min:h,max:p,mean:f,stdev:a,median:s=u.quantile(v,.5),q1:u.quantile(v,.25),q3:u.quantile(v,.75),modeskew:0===a?0:(f-s)/a}},u.summary=function(t,n){n=n||r.keys(t[0]);var e=n.map(function(n){var e=u.profile(t,r.$(n));return e.field=n,e});return e.__summary__=!0,e},n.exports=u},{"./generate":8,"./import/type":17,"./util":23}],21:[function(t,n,e){(function(e){function r(t){var n=i(t,"d");return n="var __t; return "+n+";",new Function("d",n).bind(f)}function i(t,n,e){n=n||"obj";var r=0,i="'",o=c;return t.replace(o,function(o,s,l){return i+=t.slice(r,l).replace(d,u),r=l+o.length,s&&(i+="'\n+((__t=("+a(s,n,e)+"))==null?'':__t)+\n'"),o}),i+"'"}function a(t,n,e){function i(t){return t=t||"",c?(c=!1,m="String("+m+")"+t):m+=t,m}function a(){return"(typeof "+m+'==="number"?new Date('+m+"):"+m+")"}var u=t.split("|"),f=u.shift().trim(),c=!0;e&&(e[f]=1);for(var m=r.property(n,f),d=0;d<u.length;++d){var h,p,g,v=u[d],y=null;switch((h=v.indexOf(":"))>0&&(v=v.slice(0,h),y=u[d].slice(h+1).split(",").map(function(t){return t.trim()})),v=v.trim()){case"length":i(".length");break;case"lower":i(".toLowerCase()");break;case"upper":i(".toUpperCase()");break;case"lower-locale":i(".toLocaleLowerCase()");break;case"upper-locale":i(".toLocaleUpperCase()");break;case"trim":i(".trim()");break;case"left":p=s.number(y[0]),i(".slice(0,"+p+")");break;case"right":p=s.number(y[0]),i(".slice(-"+p+")");break;case"mid":p=s.number(y[0]),g=p+s.number(y[1]),i(".slice(+"+p+","+g+")");break;case"slice":p=s.number(y[0]),i(".slice("+p+(y.length>1?","+s.number(y[1]):"")+")");break;case"truncate":p=s.number(y[0]),g=y[1],g="left"!==g&&"middle"!==g&&"center"!==g?"right":g,m="this.truncate("+i()+","+p+",'"+g+"')";break;case"pad":p=s.number(y[0]),g=y[1],g="left"!==g&&"middle"!==g&&"center"!==g?"right":g,m="this.pad("+i()+","+p+",'"+g+"')";break;case"number":p=o(y[0],l.format),c=!1,m="this.formats["+p+"]("+m+")";break;case"time":p=o(y[0],l.time.format),c=!1,m="this.formats["+p+"]("+a()+")";break;default:throw Error("Unrecognized template filter: "+v)}}return m}function u(t){return"\\"+m[t]}function o(t,n){if(!("'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]))throw Error("Format pattern must be quoted: "+t);if(t=t.slice(1,-1),!f.format_map[t]){var e=n(t),r=f.formats.length;f.formats.push(e),f.format_map[t]=r}return f.format_map[t]}var s=t("./util"),l="undefined"!=typeof window?window.d3:"undefined"!=typeof e?e.d3:null,f={formats:[],format_map:{},truncate:s.truncate,pad:s.pad};r.source=i,r.context=f,n.exports=r,r.clearFormatCache=function(){f.formats=[],f.format_map={}},r.property=function(t,n){var e=s.field(n).map(s.str).join("][");return t+"["+e+"]"};var c=/\{\{(.+?)\}\}|$/g,m={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},d=/\\|'|\r|\n|\u2028|\u2029/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":23}],22:[function(t,n,e){function r(t){return"number"==typeof t}var i=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]],a=[{type:"second",minstep:1,format:"%Y %b %-d %H:%M:%S.%L",date:function(t){return new Date(1e3*t)},unit:function(t){return+t/1e3}},{type:"minute",minstep:1,format:"%Y %b %-d %H:%M",date:function(t){return new Date(6e4*t)},unit:function(t){return~~(+t/6e4)}},{type:"hour",minstep:1,format:"%Y %b %-d %H:00",date:function(t){return new Date(36e5*t)},unit:function(t){return~~(+t/36e5)}},{type:"day",minstep:1,step:[1,7],format:"%Y %b %-d",date:function(t){return new Date(864e5*t)},unit:function(t){return~~(+t/864e5)}},{type:"month",minstep:1,step:[1,3,6],format:"%b %Y",date:function(t){return new Date(Date.UTC(~~(t/12),t%12,1))},unit:function(t){return r(t)&&(t=new Date(t)),12*t.getUTCFullYear()+t.getUTCMonth()}},{type:"year",minstep:1,format:"%Y",date:function(t){return new Date(Date.UTC(t,0,1))},unit:function(t){return(r(t)?new Date(t):t).getUTCFullYear()}}],u={type:"minuteOfHour",min:0,max:59,minstep:1,format:"%M",date:function(t){return new Date(Date.UTC(1970,0,1,0,t))},unit:function(t){return(r(t)?new Date(t):t).getUTCMinutes()}},o={type:"hourOfDay",min:0,max:23,minstep:1,format:"%H",date:function(t){return new Date(Date.UTC(1970,0,1,t))},unit:function(t){return(r(t)?new Date(t):t).getUTCHours()}},s={type:"dayOfWeek",min:0,max:6,step:[1],format:"%a",date:function(t){return new Date(Date.UTC(1970,0,4+t))},unit:function(t){return(r(t)?new Date(t):t).getUTCDay()}},l={type:"dayOfMonth",min:1,max:31,step:[1],format:"%-d",date:function(t){return new Date(Date.UTC(1970,0,t))},unit:function(t){return(r(t)?new Date(t):t).getUTCDate()}},f={type:"monthOfYear",min:0,max:11,step:[1],format:"%b",date:function(t){return new Date(Date.UTC(1970,t%12,1))},unit:function(t){return(r(t)?new Date(t):t).getUTCMonth()}},c={second:a[0],minute:a[1],hour:a[2],day:a[3],month:a[4],year:a[5],minuteOfHour:u,hourOfDay:o,dayOfWeek:s,dayOfMonth:l,monthOfYear:f,timesteps:a};c.find=function(t,n,e){var r,u,o,s=i[0];for(r=1,u=i.length;u>r;++r)if(s=i[r],t>s[0]){if(o=t/s[0],o>e)return a[i[r-1][1]];if(o>=n)return a[s[1]]}return a[i[i.length-1][1]]},n.exports=c},{}],23:[function(t,n,e){function r(t){return t.replace(c,"$1\\'")}function i(t,n){
var e,r="";for(e=0;t>e;++e)r+=n;return r}function a(t,n,e){var r=0,i=t.split(m);return t=e?(i=i.reverse()).filter(function(t){return r+=t.length,n>=r}).reverse():i.filter(function(t){return r+=t.length,n>=r}),t.length?t.join("").trim():i[0].slice(0,n)}var u=t("buffer"),o=t("./time-units"),s=n.exports={},l="__name__";s.namedfunc=function(t,n){return n[l]=t,n},s.name=function(t){return null==t?null:t[l]},s.identity=function(t){return t},s["true"]=s.namedfunc("true",function(){return!0}),s["false"]=s.namedfunc("false",function(){return!1}),s.duplicate=function(t){return JSON.parse(JSON.stringify(t))},s.equal=function(t,n){return JSON.stringify(t)===JSON.stringify(n)},s.extend=function(t){for(var n,e,r=1,i=arguments.length;i>r;++r){n=arguments[r];for(e in n)t[e]=n[e]}return t},s.length=function(t){return null!=t&&null!=t.length?t.length:null},s.keys=function(t){var n,e=[];for(n in t)e.push(n);return e},s.vals=function(t){var n,e=[];for(n in t)e.push(t[n]);return e},s.toMap=function(t,n){return(n=s.$(n))?t.reduce(function(t,e){return t[n(e)]=1,t},{}):t.reduce(function(t,n){return t[n]=1,t},{})},s.keystr=function(t){var n=t.length;if(!n)return"";for(var e=String(t[0]),r=1;n>r;++r)e+="|"+String(t[r]);return e};var f=Object.prototype.toString;s.isObject=function(t){return t===Object(t)},s.isFunction=function(t){return"[object Function]"===f.call(t)},s.isString=function(t){return"string"==typeof value||"[object String]"===f.call(t)},s.isArray=Array.isArray||function(t){return"[object Array]"===f.call(t)},s.isNumber=function(t){return"number"==typeof t||"[object Number]"===f.call(t)},s.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==f.call(t)},s.isDate=function(t){return"[object Date]"===f.call(t)},s.isValid=function(t){return null!=t&&t===t},s.isBuffer=u.Buffer&&u.Buffer.isBuffer||s["false"],s.number=function(t){return null==t||""===t?null:+t},s["boolean"]=function(t){return null==t||""===t?null:"false"===t?!1:!!t},s.date=function(t){return null==t||""===t?null:Date.parse(t)},s.array=function(t){return null!=t?s.isArray(t)?t:[t]:[]},s.str=function(t){return s.isArray(t)?"["+t.map(s.str)+"]":s.isObject(t)?JSON.stringify(t):s.isString(t)?"'"+r(t)+"'":t};var c=/(^|[^\\])'/g;s.field=function(t){return String(t).split("\\.").map(function(t){return t.split(".")}).reduce(function(t,n){return t.length&&(t[t.length-1]+="."+n.shift()),t.push.apply(t,n),t},[])},s.accessor=function(t){var n;return null==t||s.isFunction(t)?t:s.namedfunc(t,(n=s.field(t)).length>1?function(t){return n.reduce(function(t,n){return t[n]},t)}:function(n){return n[t]})},s.$=s.accessor,s.mutator=function(t){var n;return s.isString(t)&&(n=s.field(t)).length>1?function(t,e){for(var r=0;r<n.length-1;++r)t=t[n[r]];t[n[r]]=e}:function(n,e){n[t]=e}},s.$func=function(t,n){return function(e){e=s.$(e)||s.identity;var r=t+(s.name(e)?"_"+s.name(e):"");return s.namedfunc(r,function(t){return n(e(t))})}},s.$valid=s.$func("valid",s.isValid),s.$length=s.$func("length",s.length),s.$year=s.$func("year",o.year.unit),s.$month=s.$func("month",o.monthOfYear.unit),s.$date=s.$func("date",o.dayOfMonth.unit),s.$day=s.$func("day",o.dayOfWeek.unit),s.$hour=s.$func("hour",o.hourOfDay.unit),s.$minute=s.$func("minute",o.minuteOfHour.unit),s.$in=function(t,n){t=s.$(t);var e=s.isArray(n)?s.toMap(n):n;return function(n){return!!e[t(n)]}},s.comparator=function(t){var n=[];return void 0===t&&(t=[]),t=s.array(t).map(function(t){var e=1;return"-"===t[0]?(e=-1,t=t.slice(1)):"+"===t[0]&&(e=1,t=t.slice(1)),n.push(e),s.accessor(t)}),function(e,r){var i,a,u,o,s;for(i=0,a=t.length;a>i;++i){if(u=t[i],o=u(e),s=u(r),s>o)return-1*n[i];if(o>s)return n[i]}return 0}},s.cmp=function(t,n){return n>t?-1:t>n?1:t>=n?0:null===t?-1:null===n?1:NaN},s.numcmp=function(t,n){return t-n},s.stablesort=function(t,n,e){var r=t.reduce(function(t,n,r){return t[e(n)]=r,t},{});return t.sort(function(t,i){var a=n(t),u=n(i);return u>a?-1:a>u?1:r[e(t)]-r[e(i)]}),t},s.pad=function(t,n,e,r){r=r||" ";var a=n-t.length;if(0>=a)return t;switch(e){case"left":return i(a,r)+t;case"middle":case"center":return i(Math.floor(a/2),r)+t+i(Math.ceil(a/2),r);default:return t+i(a,r)}},s.truncate=function(t,n,e,r,i){var u=t.length;if(n>=u)return t;i=void 0!==i?String(i):"â€¦";var o=Math.max(0,n-i.length);switch(e){case"left":return i+(r?a(t,o,1):t.slice(u-o));case"middle":case"center":var s=Math.ceil(o/2),l=Math.floor(o/2);return(r?a(t,s):t.slice(0,s))+i+(r?a(t,l,1):t.slice(u-l));default:return(r?a(t,o):t.slice(0,o))+i}};var m=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time-units":22,buffer:1}]},{},[18])(18)});